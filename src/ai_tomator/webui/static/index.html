<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>AI-Tomator</title>
    <link rel="stylesheet" href="style.css">
    <script type="module" src="js/app.js"></script>
</head>

<body>

<div class="layout">
    <aside class="sidebar">
        <div class="logo">
            AI-Tomator
        </div>

        <nav>
            <a href="#batch-run">Quick Run</a>
            <a href="#batch-export">Export Batches</a>
            <a href="#files">Files</a>
            <a href="#endpoints">Endpoints</a>
            <a href="https://github.com/Benjino16/ai-tomator" target="_blank" rel="noopener noreferrer">Docs</a>
        </nav>

        <div class="sidebar-badges">
            <a href="https://github.com/Benjino16/ai-tomator">
                <img src="https://img.shields.io/github/v/tag/Benjino16/ai-tomator?label=latest%20version&sort=semver" alt="Latest Version"/>
            </a>

            <a href="https://github.com/Benjino16/ai-tomator">
                <img src="https://img.shields.io/github/last-commit/Benjino16/ai-tomator?label=last%20update" alt="Last Commit Status"/>
            </a>
        </div>
    </aside>


    <main>
        <section id="batch-run">
            <h2>Batch Run</h2>
            <div class="card">
                <form id="runForm">
                    <select id="endpoint-select" required></select>
                    <select id="file-tag-select" required></select>
                    <select id="file-reader-select" required></select>
                    <select id="model-select" required></select>

                    <input id="temperature-input" placeholder="Temperature" required type="number" value="1" min="0.0" max="3.0" step="0.1">
                    <input id="delay-input" placeholder="Delay (seconds)" required type="number" min="0" max="360">
                    <input id="prompt-input" placeholder="Prompt" required type="text" minlength="5">

                    <button type="submit">Run starten</button>
                </form>
                <table id="runsTable">
                    <thead>
                    <tr>
                        <th>ID</th>
                        <th>Status</th>
                        <th>Endpoint</th>
                        <th>FileReader</th>
                    </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </section>

        <section id="batch-export">
            <h2>Batch Export</h2>
            <div class="card">
                <div class="flex-wrap">
                    <select id="export-mode-select">
                        <option value="raw">CSV/RAW</option>
                        <option value="expanded">CSV/LONG-FORMAT</option>
                    </select>
                    <button id="export-button">Export</button>
                </div>
                <table id="batchTableExport">
                    <thead>
                    <tr>
                        <th><input type="checkbox" id="select-all-checkbox"></th>
                        <th>ID</th>
                        <th>Status</th>
                        <th>Endpoint</th>
                        <th>File Reader</th>
                    </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </section>

        <section id="files">
            <h2>Files</h2>
            <div class="card">
                <table id="filesTable">
                    <thead>
                    <tr>
                        <th>Name</th>
                        <th>ID</th>
                        <th>Size</th>
                        <th>Mime</th>
                        <th>Tags</th>
                        <th>Aktionen</th>
                    </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
            <button id="openUploadOverlay">+ Dateien hinzufügen</button>
        </section>

        <section id="endpoints">
            <h2>Endpoints</h2>
            <div class="card">
                <form id="endpointForm">
                    <input id="endpointName" placeholder="Name" required type="text" minlength="3">
                    <select id="endpointEngine" required></select>
                    <input id="endpointUrl" placeholder="Index-URL" type="url" minlength="5">
                    <input id="endpointToken" placeholder="Index-Token" type="text" minlength="3">
                    <button type="submit">Add</button>
                </form>

                <table id="endpointsTable">
                    <thead>
                    <tr>
                        <th>Name</th>
                        <th>Engine</th>
                        <th>URL</th>
                        <th>Token</th>
                        <th>Action</th>
                    </tr>
                    </thead>
                    <tbody></tbody>
                </table>

            </div>
        </section>

        <footer>
            AI-Tomator • Ben Kathöfer • v0.1.0
        </footer>

    </main>
</div>
<div id="uploadOverlay" class="overlay hidden">
    <div class="overlay-content">
        <h3>Dateien hochladen</h3>

        <div class="dropzone" id="overlayDropzone">
            Dateien hierher ziehen oder klicken
        </div>
        <input type="file" id="overlayFileInput" multiple style="display:none">

        <h4>Ausgewählte Dateien</h4>
        <ul id="selectedFilesList"></ul>

        <label>Tag:</label>
        <input type="text" id="uploadTag">

        <div class="action-row">
            <button id="cancelUploadOverlay">Abbrechen</button>
            <button id="uploadFilesBtn">Hochladen</button>
        </div>
    </div>
</div>
<div id="batchOverlay" class="overlay hidden">
    <div class="overlay-content">
        <h3>Batch Details</h3>
        <table id="batchDetailsTable">
            <thead>
                <tr>
                    <th>Property</th>
                    <th>Value</th>
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
    </div>
</div>
</body>
</html>
